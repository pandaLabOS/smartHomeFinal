(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(3678)}])},3678:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return C},default:function(){return D}});var d,e=c(7568),f=c(797),g=c(4051),h=c.n(g),i=c(5893),j=c(7294),k=c(9008),l=c.n(k),m=c(1664),n=c.n(m),o=c(214),p=c.n(o),q=c(9463),r=c.n(q),s=c(8511),t=c.n(s),u=c(3919),v=c.n(u),w=c(8677),x=c.n(w),y=c(8100),z=c(9367),A=c(2305),B=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return fetch.apply(void 0,(0,f.Z)(b)).then(function(a){return a.json()})},C=!0;function D(a){var b,c=function(){document.getElementById("camera1").style.opacity="1",document.getElementById("camera2").style.opacity="0.5",document.getElementById("camera3").style.opacity="0.5",document.getElementById("camera4").style.opacity="0.5"},f=function(){document.getElementById("camera2").style.opacity="1",document.getElementById("camera1").style.opacity="0.5",document.getElementById("camera3").style.opacity="0.5",document.getElementById("camera4").style.opacity="0.5"},g=function(){document.getElementById("camera3").style.opacity="1",document.getElementById("camera1").style.opacity="0.5",document.getElementById("camera2").style.opacity="0.5",document.getElementById("camera4").style.opacity="0.5"},k=function(){document.getElementById("camera4").style.opacity="1",document.getElementById("camera1").style.opacity="0.5",document.getElementById("camera2").style.opacity="0.5",document.getElementById("camera3").style.opacity="0.5"},m=(0,j.useState)(""),o=(m[0],m[1]),q=(0,j.useState)(""),s=q[0],u=q[1],w=(0,j.useState)(""),x=(w[0],w[1]),y=(0,j.useState)(""),B=y[0],C=y[1],D=(0,j.useState)(""),F=D[0],I=D[1],J=(0,j.useState)("false"),K=J[0],L=J[1],M=(0,j.useState)("false"),N=M[0],O=M[1],P=(0,j.useState)("false"),Q=P[0],R=P[1],S=(0,j.useState)("false"),T=S[0],U=S[1],V=(0,j.useState)("false"),W=(V[0],V[1]),X=(0,j.useState)("false"),Y=X[0],Z=X[1],$=(0,j.useState)("defaultS"),_=$[0],aa=$[1],ab=(b=(0,e.Z)(h().mark(function a(){return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/socket");case 2:(d=(0,z.ZP)()).on("connect",function(){console.log("connected")}),d.on("changeData",function(a){var b=a.sensor,c=a.state;switch(b){case"co2":o(c);break;case"temp":u(c);break;case"humid":x(c);break;case"door":C(c);break;case"kitdoor":I(c);break;case"hallway":L(c);break;case"living":O(c);break;case"dining":R(c);break;case"tv":U(c);break;case"aqi":Z(c);break;case"pm25":W(c)}});case 5:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)});(0,j.useEffect)(function(){ab()});var ac=["morningS","nightS","arrivingS","leavingS","defaultS"],ad=function(a){var b=a.currentTarget.id,c=document.getElementById(b);if(_!=b){aa(b),c.style.opacity="1";for(var d=0;d<ac.length;d++){var e=ac[d];e!=b&&(document.getElementById(e).style.opacity=.5)}(0,A.Z)("mode",b)}};return(0,i.jsxs)("div",{className:p().container,id:"mainContainer",children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Smart Home"}),(0,i.jsx)("meta",{name:"description",content:"Created as part of a final project"})]}),(0,i.jsx)(n(),{href:"/remotes",children:(0,i.jsx)("a",{children:(0,i.jsxs)("div",{className:v().remotesLink,id:"remotesButton",children:["Remotes ",(0,i.jsx)("arrow",{})]})})}),(0,i.jsxs)("main",{className:p().main,children:[(0,i.jsx)("div",{className:p().header,children:(0,i.jsx)("h1",{children:"WELCOME HOME"})}),(0,i.jsxs)("section",{className:p().scenesControlPanel,children:[(0,i.jsx)("div",{className:r().scenesCP,children:(0,i.jsx)("h1",{children:"scenes"})}),(0,i.jsx)("div",{className:r().morningCard,id:"morningS",onClick:ad}),(0,i.jsx)("div",{className:r().nightTCard,id:"nightS",onClick:ad}),(0,i.jsx)("div",{className:r().arrivingTCard,id:"arrivingS",onClick:ad}),(0,i.jsx)("div",{className:r().leavingTCard,id:"leavingS",onClick:ad}),(0,i.jsx)("div",{className:r().defaultTCard,id:"defaultS",onClick:ad})]}),(0,i.jsxs)("section",{className:p().devicesControlPanel,children:[(0,i.jsx)("div",{className:t().devicesCP,children:(0,i.jsx)("h1",{children:"Devices"})}),(0,i.jsxs)("div",{className:p().devicesControlPanelTopRow,children:[(0,i.jsx)(G,{property:(0,i.jsx)("div",{className:t().hallwayLightsCard,id:"hallwayLightButton",sensor_name:"hallway_light",eid:"name=hallway",change:K})}),(0,i.jsx)(G,{property:(0,i.jsx)("div",{className:t().livingRoomLightsCard,id:"livingRoomButton",sensor_name:"livingroom_light",eid:"name=living",change:N})}),(0,i.jsx)(G,{property:(0,i.jsx)("div",{className:t().diningRoomLightsCard,id:"diningRoomButton",sensor_name:"diningroom_light",eid:"name=dining",change:Q})})]}),(0,i.jsxs)("div",{className:p().devicesControlPanelBottomRow,children:[(0,i.jsx)(H,{property:(0,i.jsx)("div",{className:t().acCard,id:"airConditionerButton",sensor_name:"ac"})}),(0,i.jsx)(H,{property:(0,i.jsx)("div",{className:t().tvCard,id:"tvButton",sensor_name:"tv",eid:"name=tv",change:T})})]})]}),(0,i.jsxs)("section",{className:p().sensorReadingsPanel,id:"sensorReadings",children:[(0,i.jsx)(E,{name:"Air Quality Index",html_id:"AQI_Sensor",eid:"name=aqi",change:Y}),(0,i.jsx)(E,{name:"Temperature",html_id:"Temperature_Sensor",eid:"name=temp",change:s}),(0,i.jsx)(E,{name:"Front Door Sensor",html_id:"FrontDoor_Sensor",eid:"name=door",change:B}),(0,i.jsx)(E,{name:"Kitchen Door Sensor",html_id:"KitchenDoor_Sensor",eid:"name=kitdoor",change:F})]}),(0,i.jsxs)("section",{className:v().cameraPanel,children:[(0,i.jsx)("div",{className:v().camera1Button,id:"camera1",onClick:c}),(0,i.jsx)("div",{className:v().camera2Button,id:"camera2",onClick:f}),(0,i.jsx)("div",{className:v().camera3Button,id:"camera3",onClick:g}),(0,i.jsx)("div",{className:v().camera4Button,id:"camera4",onClick:k}),(0,i.jsx)("div",{className:v().cameraFeed})]})]}),(0,i.jsx)("div",{})]})}function E(a){var b=a.name,c=(a.html_id,a.eid),d=a.change,e=(0,j.useState)(""),f=e[0],g=e[1],h=F(c);return(0,j.useEffect)(function(){g(h)},[h]),(0,j.useEffect)(function(){d!=f&&""!=d&&g(d)}),(0,i.jsxs)("div",{className:x().container,children:[(0,i.jsx)("h2",{children:b}),(0,i.jsx)("h1",{children:f}),(0,i.jsx)("h2",{children:" "})]})}function F(a){var b,c,d,e,f,g=(c=(b={eid:a}).eid,e=(d=(0,y.ZP)("./api/findOnStartup/?".concat(c),B)).data,f=d.error,{result:e,isLoading:!f&&!e,isError:f}),h=g.result,i=g.isLoading,j=g.isError;return i?"Loading...":j?"Error":h[0].state}function G(a){var b=function(a){var b=document.getElementById(c.id);return"true"==String(a)?(g("true"),b.style.opacity="1","on"):"false"==String(a)?(g("false"),b.style.opacity="0.5","off"):void 0},c=a.property.props,d=c.change,e=(0,j.useState)(!0),f=e[0],g=e[1],h=F(c.eid);(0,j.useEffect)(function(){b(h)},[h]),(0,j.useEffect)(function(){d!="".concat(f)&&b(d)});var k=function(){var a="";"true"==f&&(a=b("false")),"false"==f&&(a=b("true")),(0,A.Z)(c.sensor_name,a)};return(0,i.jsx)("div",{className:c.className,id:c.id,onClick:k})}function H(a){var b=function(a){var b=document.getElementById(c.id);return"true"==String(a)?(f("true"),b.style.opacity="1","on"):"false"==String(a)?(f("false"),b.style.opacity="0.5","off"):void 0},c=a.property.props,d=(0,j.useState)("false"),e=d[0],f=d[1],g=function(){var a="";"true"==e&&(a=b("false")),"false"==e&&(a=b("true")),(0,A.Z)(c.sensor_name,a)};return(0,i.jsx)("div",{className:c.className,id:c.id,onClick:g})}},2305:function(a,b,c){"use strict";var d=c(7568),e=c(4051),f=c.n(e);function g(){return(g=(0,d.Z)(f().mark(function a(b,c){var d,e;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({state:c,sensor:b})});case 2:return d=a.sent,a.next=5,d.json();case 5:e=a.sent;case 6:case"end":return a.stop()}},a)}))).apply(this,arguments)}b.Z=function(a,b){return g.apply(this,arguments)}},3919:function(a){a.exports={cameraFeed:"Cameras_cameraFeed__MczaO",camera1Button:"Cameras_camera1Button__tJMch",camera2Button:"Cameras_camera2Button__tx090",camera3Button:"Cameras_camera3Button__tRuLQ",camera4Button:"Cameras_camera4Button__wcG0M",cameraPanel:"Cameras_cameraPanel__pZDKU",remotesLink:"Cameras_remotesLink__fcZ_7"}},8511:function(a){a.exports={devicesCP:"Devices_devicesCP__8_Hh_",hallwayLightsCard:"Devices_hallwayLightsCard__5jbm_",livingRoomLightsCard:"Devices_livingRoomLightsCard__nPmGD",diningRoomLightsCard:"Devices_diningRoomLightsCard__sMT3r",acCard:"Devices_acCard__5GUs4",tvCard:"Devices_tvCard__CQ5xf",remotesCard:"Devices_remotesCard__WjBlV"}},214:function(a){a.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",main_darkened:"Home_main_darkened__5z_MR",title:"Home_title__T09hD",header:"Home_header__GCVRv",scenesControlPanel:"Home_scenesControlPanel__WQ7qr",devicesControlPanel:"Home_devicesControlPanel__kOM64",devicesControlPanelTopRow:"Home_devicesControlPanelTopRow__7oB5d",devicesControlPanelBottomRow:"Home_devicesControlPanelBottomRow__worAU",cameraSection:"Home_cameraSection__Eb2wN",cameraButtonSection:"Home_cameraButtonSection__F9QdH",sensorReadingsPanel:"Home_sensorReadingsPanel__ZrjWg",remotesPanel:"Home_remotesPanel__w_f7U"}},9463:function(a){a.exports={morningCard:"Scenes_morningCard__4YHc_",morningTCard:"Scenes_morningTCard__7lJto",nightCard:"Scenes_nightCard__tXgZt",nightTCard:"Scenes_nightTCard__CpmoU",arrivingCard:"Scenes_arrivingCard__5fmZk",arrivingTCard:"Scenes_arrivingTCard__40Akj",leavingCard:"Scenes_leavingCard__fwuoM",leavingTCard:"Scenes_leavingTCard__VulM8",defaultTCard:"Scenes_defaultTCard__l7tz_",defaultCard:"Scenes_defaultCard__IZlUe",scenesCP:"Scenes_scenesCP__E_9Eu"}},8677:function(a){a.exports={container:"sensorReadings_container__edcaS"}}},function(a){a.O(0,[686,774,888,179],function(){var b;return a(a.s=5557)}),_N_E=a.O()}])